<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>Punjabi Stream (CH 0-9)</title>
  <link rel="icon" href="https://i.postimg.cc/FRDPFKpY/favicon-96x96.png" type="image/png">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Gurmukhi:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <script src="https://www.youtube.com/iframe_api"></script>

  <style>
    html,body{
      margin:0;padding:0;height:100%;background:black;
      font-family:sans-serif;overflow:hidden;user-select:none;
    }
    #container{position:relative;width:100vw;height:100vh;}
    #stream{position:absolute;top:0;left:0;width:100%;height:100%;z-index:0;}
    #stream iframe{width:100%;height:100%;border:0;}
    #hls-video{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:1;display:none;}
    #overlay{position:absolute;top:0;left:0;width:100%;height:100%;z-index:2;cursor:pointer;}
    #channelName{
      position:absolute;bottom:-60px;left:0;width:100%;
      background:rgba(0,41,107,0.7);color:#ffd500;
      padding:12px 20px;font-size:22px;font-weight:700;
      text-align:center;opacity:0;transition:all .5s;z-index:3;
      font-family:"Noto Sans Gurmukhi",sans-serif;
    }
    #channelName.show{bottom:0;opacity:1;}
    .loading{
      position:absolute;top:50%;left:50%;
      transform:translate(-50%,-50%);
      width:48px;height:48px;border:5px solid rgba(255,213,0,0.3);
      border-radius:50%;border-top-color:#ffd500;
      animation:spin 1s linear infinite;z-index:4;display:none;
    }
    @keyframes spin{to{transform:translate(-50%,-50%) rotate(360deg)}}
    #time-tv{
      position:absolute;top:0;left:0;width:100%;height:100%;
      display:none;z-index:1;
      background:url("https://i.postimg.cc/053WPD28/haarimandr.png") no-repeat center center;
      background-size:cover;
    }
    #time-tv .clock{
      position:absolute;top:8%;right:4%;
      font-size:8vw;color:#FFD700;
      text-shadow:0 0 60px #FFD700;
    }
    #time-tv .date{
      position:absolute;top:3%;right:7%;
      font-size:3vw;color:#FFE066;
    }
  </style>
</head>

<body>
<div id="container">
  <div id="stream"></div>
  <video id="hls-video" playsinline></video>

  <div id="time-tv">
    <div class="clock">00:00</div>
    <div class="date">November 4, 2025</div>
  </div>

  <div id="overlay"></div>
  <div id="channelName"></div>
  <div class="loading" id="loading"></div>
</div>

<script>

const CHANNELS = [

  

  /* CH 1 */
  { name:"1. ਪਟਨਾ ਸਾਹਿਬ ਲਾਈਵ",
    url:"https://www.youtube.com/embed/live_stream?channel=UC3nqw1kd4AK1q9e68YUoLDQ&autoplay=1&mute=0&modestbranding=1&controls=0&showinfo=0&rel=0",
    type:"youtube"
  },

  /* CH 2 */
  { name:"2. ਅੰਮ੍ਰਿਤਸਰ ਸਾਹਿਬ ਲਾਈਵ",
    url:"https://www.youtube.com/embed/live_stream?channel=UCYn6UEtQ771a_OWSiNBoG8w&autoplay=1&modestbranding=1&controls=0&showinfo=0&rel=0",
    type:"youtube"
  },

  /* CH 3 */
  { name:"3. ਗੁਰਦੁਆਰਾ ਸ਼ਹੀਦ ਗੰਜ ਬਾਬਾ ਦੀਪ ਸਿੰਘ ਜੀ ਅੰਮ੍ਰਿਤਸਰ ਲਾਈਵ",
    url:"https://www.youtube.com/embed/live_stream?channel=UCxWx-MPft_7mKrFtN6uOaAA&autoplay=1&modestbranding=1&controls=0&showinfo=0&rel=0",
    type:"youtube"
  },

  /* CH 4 */
  { name:"4. ਚੜਦੀਕਲਾ ਟਾਈਮ ਟੀਵੀ",
    url:"https://www.yupptv.com/yupptvnew/channels/chardikala-time-tv/live/embed",
    type:"iframe"
  },

  /* CH 5 */
  { name:"5. ਡੀਡੀ ਪੰਜਾਬੀ",
    url:"https://d3eyhgoylams0m.cloudfront.net/v1/manifest/93ce20f0f52760bf38be911ff4c91ed02aa2fd92/ed7bd2c7-8d10-4051-b397-2f6b90f99acb/20c8ad14-a158-4a42-8889-e032d070856e/2.m3u8",
    type:"hls"
  },

  /* CH 6 */
  { name:"6. ਫਤੇਹਗੜ੍ਹ ਸਾਹਿਬ ਲਾਈਵ",
    url:"https://www.youtube.com/embed/live_stream?channel=UCudVHqnOekwcvpzNpY8_ERw&autoplay=1&modestbranding=1&controls=0&showinfo=0&rel=0",
    type:"youtube"
  },

  /* CH 7  */
  { name:"7. ਰਕਾਬ ਗੰਜ ਸਾਹਿਬ ਦਿੱਲੀ ਲਾਈਵ",
    url:"https://www.youtube.com/embed/live_stream?channel=UCdVa_kCUacFgWv7Xy-8zONA&autoplay=1&modestbranding=1&controls=0&showinfo=0&rel=0",
    type:"youtube"
  },

  /* CH 8 */
  { name:"8. ਲਾਈਵ ਟਾਈਮ", type:"time" },

  /* CH 9 */
  { name:"9. ਹਜ਼ੂਰ ਸਾਹਿਬ ਲਾਈਵ",
    url:"https://www.youtube.com/embed/live_stream?channel=UCuerQ47I9Y2qxr4eIopxbYw&autoplay=1&modestbranding=1&controls=0&showinfo=0&rel=0",
    type:"youtube"
  },

/* CH 0 */
  { name:"0. ਪਟਨਾ ਸਾਹਿਬ 24x7",
    url:"https://www.youtube.com/embed/TTK7eNuI3M0?autoplay=1&mute=0&modestbranding=1&controls=0&showinfo=0&rel=0",
    type:"youtube"
  }

];

/* -----------------------------------
    Player Logic (unchanged)
----------------------------------- */

const STREAM_DIV=document.getElementById("stream");
const HLS_VIDEO=document.getElementById("hls-video");
const TIME_TV=document.getElementById("time-tv");
const channelNameBox=document.getElementById("channelName");
const loadingIndicator=document.getElementById("loading");

let currentChannel=parseInt(localStorage.getItem("currentChannel"))||0;
if(currentChannel<0||currentChannel>=CHANNELS.length) currentChannel=0;
let hideTimeout,hls,refreshTimer;

function loadChannel(index){
  localStorage.setItem("currentChannel",index);
  currentChannel=index;
  loadingIndicator.style.display="block";
  STREAM_DIV.style.display="none";
  HLS_VIDEO.style.display="none";
  TIME_TV.style.display="none";
  STREAM_DIV.innerHTML="";
  if(hls){try{hls.destroy();}catch(e){} hls=null;}
  HLS_VIDEO.pause();

  const ch=CHANNELS[index];

  if(ch.type==="youtube"||ch.type==="iframe"){
    STREAM_DIV.style.display="block";
    const iframe=document.createElement("iframe");
    iframe.src=ch.url;
    iframe.setAttribute("allow","autoplay; encrypted-media; fullscreen");
    iframe.onload=()=>loadingIndicator.style.display="none";
    STREAM_DIV.appendChild(iframe);
  }
  else if(ch.type==="hls"){
    HLS_VIDEO.style.display="block";
    if(HLS_VIDEO.canPlayType("application/vnd.apple.mpegurl")){
      HLS_VIDEO.src=ch.url;
      HLS_VIDEO.addEventListener("loadedmetadata",()=>{
        HLS_VIDEO.play();loadingIndicator.style.display="none";
      });
    }
    else if(Hls&&Hls.isSupported()){
      hls=new Hls();
      hls.loadSource(ch.url);
      hls.attachMedia(HLS_VIDEO);
      hls.on(Hls.Events.MANIFEST_PARSED,()=>{
        HLS_VIDEO.play();loadingIndicator.style.display="none";
      });
    }
  }
  else if(ch.type==="time"){
    TIME_TV.style.display="block";
    loadingIndicator.style.display="none";
  }

  showChannelName(ch.name);
  setupAutoRefresh();
}

function showChannelName(name){
  channelNameBox.textContent=name;
  channelNameBox.classList.add("show");
  clearTimeout(hideTimeout);
  hideTimeout=setTimeout(()=>channelNameBox.classList.remove("show"),3000);
}

function setupAutoRefresh(){
  clearTimeout(refreshTimer);
  refreshTimer=setTimeout(()=>window.location.reload(),5400000);
}

function nextChannel(){
  currentChannel=(currentChannel+1)%CHANNELS.length;
  loadChannel(currentChannel);
}
function prevChannel(){
  currentChannel=(currentChannel-1+CHANNELS.length)%CHANNELS.length;
  loadChannel(currentChannel);
}
function jumpToChannel(i){
  if(i>=0 && i<CHANNELS.length) loadChannel(i);
}

document.getElementById("overlay").addEventListener("click",nextChannel);

document.addEventListener("keydown",e=>{
  if(e.key==="ArrowRight"||e.key.toLowerCase()==="d") nextChannel();
  else if(e.key==="ArrowLeft"||e.key.toLowerCase()==="a") prevChannel();
  else if(/^[0-9]$/.test(e.key)) jumpToChannel(parseInt(e.key));
});

function updateLocalTime(){
  const now=new Date();
  const t=now.toLocaleTimeString([],{
    hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:true
  }).replace(/am|pm/,m=>m.toUpperCase());

  const d=now.toLocaleDateString([],{
    weekday:"long",month:"long",day:"numeric",year:"numeric"
  });

  document.querySelector("#time-tv .clock").textContent=t;
  document.querySelector("#time-tv .date").textContent=d;
}

setInterval(updateLocalTime,1000);
updateLocalTime();

loadChannel(currentChannel);
</script>

</body>
</html>
